# TPPmark24 — 互換による整列

今年のテーマは、比較回数ではなく互換（swap）の回数をコストと見なして列を整列することにある。例えば `[5, 9, 1, 3, 7]` を `[1, 3, 5, 7, 9]` に整列するには、位置を 1 始まりで数えると次の 3 回の互換で済む。

1. 位置 1 と 3 を入れ替える。
2. 位置 2 と 4 を入れ替える。
3. 位置 4 と 5 を入れ替える。

これは置換 `{1 ↦ 3, 2 ↦ 5, 3 ↦ 1, 4 ↦ 2, 5 ↦ 4}` を適用するのと同じであり、循環分解すると `(1 3)(2 5 4)` となる。長さ `m` の循環は `m - 1` 回の互換で実現できるため、最適なアルゴリズムは「要素数 − 循環数」回の互換で整列を完了できる。

## 課題

1. 置換を受け取り、それを実現する最小回数の互換列に変換する関数を実装せよ。
2. その関数が正しく、得られる互換列が最小であることを証明せよ（置換の理論を必要に応じて整備すること）。
3. 重複のない自然数のリストを与えられたとき、それを整列する最小互換列を返す関数を実装し、正しさと最小性を証明せよ。
4. 重複を許す自然数のリストについても関数を拡張し、正しさと最小性を証明せよ。

位置は 0 始まりにしてもよい。
